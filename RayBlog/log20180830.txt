2018-08-30 11:32:59.365 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-08-30 11:32:59.631 +08:00 [INF] Entity Framework Core 2.1.2-rtm-30932 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-08-30 11:32:59.676 +08:00 [DBG] Compiling query model: 
'(from Post <generated>_1 in DbSet<Post>
select [<generated>_1]).Any()'
2018-08-30 11:32:59.699 +08:00 [DBG] Optimized query model: 
'(from Post <generated>_1 in DbSet<Post>
select [<generated>_1]).Any()'
2018-08-30 11:32:59.759 +08:00 [DBG] (QueryContext queryContext) => IEnumerable<bool> _InterceptExceptions(
    source: IEnumerable<bool> _ToSequence(() => bool GetResult(
            valueBuffers: IEnumerable<ValueBuffer> _Query(
                queryContext: queryContext, 
                shaperCommandContext: SelectExpression: 
                    SELECT CASE
                        WHEN EXISTS (
                            SELECT 1
                            FROM [Posts] AS [p])
                        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
                    END), 
            throwOnNullResult: False)), 
    contextType: RayBlog.Infrastructure.Database.MyContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)
2018-08-30 11:32:59.816 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 11:32:59.923 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 11:32:59.968 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Posts] AS [p])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-08-30 11:33:00.005 +08:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Posts] AS [p])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-08-30 11:33:00.024 +08:00 [DBG] A data reader was disposed.
2018-08-30 11:33:00.031 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 11:33:00.033 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 11:33:00.042 +08:00 [DBG] 'MyContext' disposed.
2018-08-30 11:33:00.051 +08:00 [DBG] Hosting starting
2018-08-30 11:33:00.098 +08:00 [INF] User profile is available. Using 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-08-30 11:33:00.107 +08:00 [DBG] Reading data from file 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys\key-73484aa6-e8f7-4802-a9b5-38bb7db19515.xml'.
2018-08-30 11:33:00.125 +08:00 [DBG] Reading data from file 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys\key-c851040d-9ce1-4a71-9adc-d84f3795dc9c.xml'.
2018-08-30 11:33:00.147 +08:00 [DBG] Found key "73484aa6-e8f7-4802-a9b5-38bb7db19515".
2018-08-30 11:33:00.162 +08:00 [DBG] Found key "c851040d-9ce1-4a71-9adc-d84f3795dc9c".
2018-08-30 11:33:00.181 +08:00 [DBG] Considering key "73484aa6-e8f7-4802-a9b5-38bb7db19515" with expiration date "2018-09-28T07:01:33.1620695+00:00" as default key.
2018-08-30 11:33:00.201 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-08-30 11:33:00.207 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-08-30 11:33:00.210 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-08-30 11:33:00.216 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-08-30 11:33:00.225 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-08-30 11:33:00.233 +08:00 [DBG] Using key "73484aa6-e8f7-4802-a9b5-38bb7db19515" as the default key.
2018-08-30 11:33:00.234 +08:00 [DBG] Key ring with default key "73484aa6-e8f7-4802-a9b5-38bb7db19515" was loaded during application startup.
2018-08-30 11:33:00.260 +08:00 [DBG] Compatibility switch AllowInputFormatterExceptionMessages in type MvcJsonOptions is using default value false
2018-08-30 11:33:00.284 +08:00 [DBG] Compatibility switch AllowCombiningAuthorizeFilters in type MvcOptions is using default value false
2018-08-30 11:33:00.285 +08:00 [DBG] Compatibility switch AllowBindingHeaderValuesToNonStringModelTypes in type MvcOptions is using default value false
2018-08-30 11:33:00.289 +08:00 [DBG] Compatibility switch AllowValidatingTopLevelNodes in type MvcOptions is using default value false
2018-08-30 11:33:00.291 +08:00 [DBG] Compatibility switch InputFormatterExceptionPolicy in type MvcOptions is using default value "AllExceptions"
2018-08-30 11:33:00.293 +08:00 [DBG] Compatibility switch SuppressBindingUndefinedValueToEnumType in type MvcOptions is using default value false
2018-08-30 11:33:00.325 +08:00 [DBG] Compatibility switch AllowAreas in type RazorPagesOptions is using default value false
2018-08-30 11:33:00.326 +08:00 [DBG] Compatibility switch AllowMappingHeadRequestsToGetHandler in type RazorPagesOptions is using default value false
2018-08-30 11:33:00.372 +08:00 [DBG] Compatibility switch SuppressTempDataAttributePrefix in type MvcViewOptions is using default value false
2018-08-30 11:33:00.396 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2018-08-30 11:33:00.441 +08:00 [DBG] Failed to locate the development https certificate at 'null'.
2018-08-30 11:33:00.512 +08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D30E946E0AD126EEA5F9A35F1B7DB97F0FE3D2EA)
2018-08-30 11:33:00.549 +08:00 [DBG] Hosting started
2018-08-30 11:33:00.557 +08:00 [DBG] Loaded hosting startup assembly RayBlog.APi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
2018-08-30 11:38:21.090 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-08-30 11:38:21.379 +08:00 [INF] Entity Framework Core 2.1.2-rtm-30932 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-08-30 11:38:21.431 +08:00 [DBG] Compiling query model: 
'(from Post <generated>_1 in DbSet<Post>
select [<generated>_1]).Any()'
2018-08-30 11:38:21.468 +08:00 [DBG] Optimized query model: 
'(from Post <generated>_1 in DbSet<Post>
select [<generated>_1]).Any()'
2018-08-30 11:38:21.533 +08:00 [DBG] (QueryContext queryContext) => IEnumerable<bool> _InterceptExceptions(
    source: IEnumerable<bool> _ToSequence(() => bool GetResult(
            valueBuffers: IEnumerable<ValueBuffer> _Query(
                queryContext: queryContext, 
                shaperCommandContext: SelectExpression: 
                    SELECT CASE
                        WHEN EXISTS (
                            SELECT 1
                            FROM [Posts] AS [p])
                        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
                    END), 
            throwOnNullResult: False)), 
    contextType: RayBlog.Infrastructure.Database.MyContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)
2018-08-30 11:38:21.580 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 11:38:21.710 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 11:38:21.763 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Posts] AS [p])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-08-30 11:38:21.789 +08:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Posts] AS [p])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-08-30 11:38:21.802 +08:00 [DBG] A data reader was disposed.
2018-08-30 11:38:21.808 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 11:38:21.810 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 11:38:21.812 +08:00 [DBG] 'MyContext' disposed.
2018-08-30 11:38:21.817 +08:00 [DBG] Hosting starting
2018-08-30 11:38:21.851 +08:00 [INF] User profile is available. Using 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-08-30 11:38:21.867 +08:00 [DBG] Reading data from file 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys\key-73484aa6-e8f7-4802-a9b5-38bb7db19515.xml'.
2018-08-30 11:38:22.059 +08:00 [DBG] Reading data from file 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys\key-c851040d-9ce1-4a71-9adc-d84f3795dc9c.xml'.
2018-08-30 11:38:22.079 +08:00 [DBG] Found key "73484aa6-e8f7-4802-a9b5-38bb7db19515".
2018-08-30 11:38:22.083 +08:00 [DBG] Found key "c851040d-9ce1-4a71-9adc-d84f3795dc9c".
2018-08-30 11:38:22.106 +08:00 [DBG] Considering key "73484aa6-e8f7-4802-a9b5-38bb7db19515" with expiration date "2018-09-28T07:01:33.1620695+00:00" as default key.
2018-08-30 11:38:22.117 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-08-30 11:38:22.120 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-08-30 11:38:22.122 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-08-30 11:38:22.124 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-08-30 11:38:22.128 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-08-30 11:38:22.132 +08:00 [DBG] Using key "73484aa6-e8f7-4802-a9b5-38bb7db19515" as the default key.
2018-08-30 11:38:22.133 +08:00 [DBG] Key ring with default key "73484aa6-e8f7-4802-a9b5-38bb7db19515" was loaded during application startup.
2018-08-30 11:38:22.146 +08:00 [DBG] Compatibility switch AllowInputFormatterExceptionMessages in type MvcJsonOptions is using default value false
2018-08-30 11:38:22.159 +08:00 [DBG] Compatibility switch AllowCombiningAuthorizeFilters in type MvcOptions is using default value false
2018-08-30 11:38:22.160 +08:00 [DBG] Compatibility switch AllowBindingHeaderValuesToNonStringModelTypes in type MvcOptions is using default value false
2018-08-30 11:38:22.161 +08:00 [DBG] Compatibility switch AllowValidatingTopLevelNodes in type MvcOptions is using default value false
2018-08-30 11:38:22.162 +08:00 [DBG] Compatibility switch InputFormatterExceptionPolicy in type MvcOptions is using default value "AllExceptions"
2018-08-30 11:38:22.163 +08:00 [DBG] Compatibility switch SuppressBindingUndefinedValueToEnumType in type MvcOptions is using default value false
2018-08-30 11:38:22.174 +08:00 [DBG] Compatibility switch AllowAreas in type RazorPagesOptions is using default value false
2018-08-30 11:38:22.175 +08:00 [DBG] Compatibility switch AllowMappingHeadRequestsToGetHandler in type RazorPagesOptions is using default value false
2018-08-30 11:38:22.193 +08:00 [DBG] Compatibility switch SuppressTempDataAttributePrefix in type MvcViewOptions is using default value false
2018-08-30 11:38:22.212 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2018-08-30 11:38:22.252 +08:00 [DBG] Failed to locate the development https certificate at 'null'.
2018-08-30 11:38:22.294 +08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D30E946E0AD126EEA5F9A35F1B7DB97F0FE3D2EA)
2018-08-30 11:38:22.323 +08:00 [DBG] Hosting started
2018-08-30 11:38:22.324 +08:00 [DBG] Loaded hosting startup assembly RayBlog.APi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
2018-08-30 11:40:58.577 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-08-30 11:40:58.871 +08:00 [INF] Entity Framework Core 2.1.2-rtm-30932 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-08-30 11:40:58.923 +08:00 [DBG] Compiling query model: 
'(from Post <generated>_1 in DbSet<Post>
select [<generated>_1]).Any()'
2018-08-30 11:40:58.953 +08:00 [DBG] Optimized query model: 
'(from Post <generated>_1 in DbSet<Post>
select [<generated>_1]).Any()'
2018-08-30 11:40:59.020 +08:00 [DBG] (QueryContext queryContext) => IEnumerable<bool> _InterceptExceptions(
    source: IEnumerable<bool> _ToSequence(() => bool GetResult(
            valueBuffers: IEnumerable<ValueBuffer> _Query(
                queryContext: queryContext, 
                shaperCommandContext: SelectExpression: 
                    SELECT CASE
                        WHEN EXISTS (
                            SELECT 1
                            FROM [Posts] AS [p])
                        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
                    END), 
            throwOnNullResult: False)), 
    contextType: RayBlog.Infrastructure.Database.MyContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)
2018-08-30 11:40:59.052 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 11:40:59.098 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 11:40:59.139 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Posts] AS [p])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-08-30 11:40:59.164 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Posts] AS [p])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-08-30 11:40:59.175 +08:00 [DBG] A data reader was disposed.
2018-08-30 11:40:59.176 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 11:40:59.177 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 11:40:59.180 +08:00 [DBG] 'MyContext' disposed.
2018-08-30 11:40:59.186 +08:00 [DBG] Hosting starting
2018-08-30 11:40:59.220 +08:00 [INF] User profile is available. Using 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-08-30 11:40:59.225 +08:00 [DBG] Reading data from file 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys\key-73484aa6-e8f7-4802-a9b5-38bb7db19515.xml'.
2018-08-30 11:40:59.239 +08:00 [DBG] Reading data from file 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys\key-c851040d-9ce1-4a71-9adc-d84f3795dc9c.xml'.
2018-08-30 11:40:59.246 +08:00 [DBG] Found key "73484aa6-e8f7-4802-a9b5-38bb7db19515".
2018-08-30 11:40:59.250 +08:00 [DBG] Found key "c851040d-9ce1-4a71-9adc-d84f3795dc9c".
2018-08-30 11:40:59.258 +08:00 [DBG] Considering key "73484aa6-e8f7-4802-a9b5-38bb7db19515" with expiration date "2018-09-28T07:01:33.1620695+00:00" as default key.
2018-08-30 11:40:59.271 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-08-30 11:40:59.272 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-08-30 11:40:59.274 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-08-30 11:40:59.276 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-08-30 11:40:59.287 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-08-30 11:40:59.291 +08:00 [DBG] Using key "73484aa6-e8f7-4802-a9b5-38bb7db19515" as the default key.
2018-08-30 11:40:59.293 +08:00 [DBG] Key ring with default key "73484aa6-e8f7-4802-a9b5-38bb7db19515" was loaded during application startup.
2018-08-30 11:40:59.304 +08:00 [DBG] Compatibility switch AllowInputFormatterExceptionMessages in type MvcJsonOptions is using default value false
2018-08-30 11:40:59.321 +08:00 [DBG] Compatibility switch AllowCombiningAuthorizeFilters in type MvcOptions is using default value false
2018-08-30 11:40:59.322 +08:00 [DBG] Compatibility switch AllowBindingHeaderValuesToNonStringModelTypes in type MvcOptions is using default value false
2018-08-30 11:40:59.323 +08:00 [DBG] Compatibility switch AllowValidatingTopLevelNodes in type MvcOptions is using default value false
2018-08-30 11:40:59.324 +08:00 [DBG] Compatibility switch InputFormatterExceptionPolicy in type MvcOptions is using default value "AllExceptions"
2018-08-30 11:40:59.325 +08:00 [DBG] Compatibility switch SuppressBindingUndefinedValueToEnumType in type MvcOptions is using default value false
2018-08-30 11:40:59.336 +08:00 [DBG] Compatibility switch AllowAreas in type RazorPagesOptions is using default value false
2018-08-30 11:40:59.337 +08:00 [DBG] Compatibility switch AllowMappingHeadRequestsToGetHandler in type RazorPagesOptions is using default value false
2018-08-30 11:40:59.364 +08:00 [DBG] Compatibility switch SuppressTempDataAttributePrefix in type MvcViewOptions is using default value false
2018-08-30 11:40:59.381 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2018-08-30 11:40:59.427 +08:00 [DBG] Failed to locate the development https certificate at 'null'.
2018-08-30 11:40:59.475 +08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D30E946E0AD126EEA5F9A35F1B7DB97F0FE3D2EA)
2018-08-30 11:40:59.508 +08:00 [DBG] Hosting started
2018-08-30 11:40:59.510 +08:00 [DBG] Loaded hosting startup assembly RayBlog.APi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
2018-08-30 11:41:52.196 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-08-30 11:41:52.436 +08:00 [INF] Entity Framework Core 2.1.2-rtm-30932 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-08-30 11:41:52.475 +08:00 [DBG] Compiling query model: 
'(from Post <generated>_1 in DbSet<Post>
select [<generated>_1]).Any()'
2018-08-30 11:41:52.492 +08:00 [DBG] Optimized query model: 
'(from Post <generated>_1 in DbSet<Post>
select [<generated>_1]).Any()'
2018-08-30 11:41:52.540 +08:00 [DBG] (QueryContext queryContext) => IEnumerable<bool> _InterceptExceptions(
    source: IEnumerable<bool> _ToSequence(() => bool GetResult(
            valueBuffers: IEnumerable<ValueBuffer> _Query(
                queryContext: queryContext, 
                shaperCommandContext: SelectExpression: 
                    SELECT CASE
                        WHEN EXISTS (
                            SELECT 1
                            FROM [Posts] AS [p])
                        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
                    END), 
            throwOnNullResult: False)), 
    contextType: RayBlog.Infrastructure.Database.MyContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)
2018-08-30 11:41:52.567 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 11:41:52.610 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 11:41:52.647 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Posts] AS [p])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-08-30 11:41:52.665 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Posts] AS [p])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-08-30 11:41:52.677 +08:00 [DBG] A data reader was disposed.
2018-08-30 11:41:52.677 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 11:41:52.680 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 11:41:52.682 +08:00 [DBG] 'MyContext' disposed.
2018-08-30 11:41:52.687 +08:00 [DBG] Hosting starting
2018-08-30 11:41:52.715 +08:00 [INF] User profile is available. Using 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-08-30 11:41:52.722 +08:00 [DBG] Reading data from file 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys\key-73484aa6-e8f7-4802-a9b5-38bb7db19515.xml'.
2018-08-30 11:41:52.734 +08:00 [DBG] Reading data from file 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys\key-c851040d-9ce1-4a71-9adc-d84f3795dc9c.xml'.
2018-08-30 11:41:52.740 +08:00 [DBG] Found key "73484aa6-e8f7-4802-a9b5-38bb7db19515".
2018-08-30 11:41:52.745 +08:00 [DBG] Found key "c851040d-9ce1-4a71-9adc-d84f3795dc9c".
2018-08-30 11:41:52.755 +08:00 [DBG] Considering key "73484aa6-e8f7-4802-a9b5-38bb7db19515" with expiration date "2018-09-28T07:01:33.1620695+00:00" as default key.
2018-08-30 11:41:52.769 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-08-30 11:41:52.773 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-08-30 11:41:52.775 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-08-30 11:41:52.777 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-08-30 11:41:52.782 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-08-30 11:41:52.787 +08:00 [DBG] Using key "73484aa6-e8f7-4802-a9b5-38bb7db19515" as the default key.
2018-08-30 11:41:52.789 +08:00 [DBG] Key ring with default key "73484aa6-e8f7-4802-a9b5-38bb7db19515" was loaded during application startup.
2018-08-30 11:41:52.800 +08:00 [DBG] Compatibility switch AllowInputFormatterExceptionMessages in type MvcJsonOptions is using default value false
2018-08-30 11:41:52.810 +08:00 [DBG] Compatibility switch AllowCombiningAuthorizeFilters in type MvcOptions is using default value false
2018-08-30 11:41:52.811 +08:00 [DBG] Compatibility switch AllowBindingHeaderValuesToNonStringModelTypes in type MvcOptions is using default value false
2018-08-30 11:41:52.813 +08:00 [DBG] Compatibility switch AllowValidatingTopLevelNodes in type MvcOptions is using default value false
2018-08-30 11:41:52.815 +08:00 [DBG] Compatibility switch InputFormatterExceptionPolicy in type MvcOptions is using default value "AllExceptions"
2018-08-30 11:41:52.817 +08:00 [DBG] Compatibility switch SuppressBindingUndefinedValueToEnumType in type MvcOptions is using default value false
2018-08-30 11:41:52.830 +08:00 [DBG] Compatibility switch AllowAreas in type RazorPagesOptions is using default value false
2018-08-30 11:41:52.831 +08:00 [DBG] Compatibility switch AllowMappingHeadRequestsToGetHandler in type RazorPagesOptions is using default value false
2018-08-30 11:41:52.853 +08:00 [DBG] Compatibility switch SuppressTempDataAttributePrefix in type MvcViewOptions is using default value false
2018-08-30 11:41:52.871 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2018-08-30 11:41:52.911 +08:00 [DBG] Failed to locate the development https certificate at 'null'.
2018-08-30 11:41:52.964 +08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D30E946E0AD126EEA5F9A35F1B7DB97F0FE3D2EA)
2018-08-30 11:41:53.008 +08:00 [DBG] Hosting started
2018-08-30 11:41:53.012 +08:00 [DBG] Loaded hosting startup assembly RayBlog.APi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
2018-08-30 12:22:10.509 +08:00 [DBG] Connection id "0HLGE60JPC5UV" started.
2018-08-30 12:22:11.026 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:6001/api/posts?orderBy=id%20desc&pageSize=10&pageIndex=0  
2018-08-30 12:22:11.035 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2018-08-30 12:22:11.044 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2018-08-30 12:22:11.046 +08:00 [INF] Policy execution failed.
2018-08-30 12:22:11.047 +08:00 [INF] Request origin http://localhost:4200 does not have permission to access the resource.
2018-08-30 12:22:11.081 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2018-08-30 12:22:11.225 +08:00 [DBG] Request successfully matched the route with name 'GetPosts' and template 'api/posts'.
2018-08-30 12:22:11.246 +08:00 [DBG] Action 'RayBlog.APi.Controllers.PostController.Post (RayBlog.APi)' with id 'c89db154-a86a-4c6b-8279-cbd5659c164e' did not match the constraint 'RayBlog.APi.Helpers.RequestHeaderMatchingMediaTypeAttribute'
2018-08-30 12:22:11.294 +08:00 [INF] Route matched with {action = "Get", controller = "Post"}. Executing action RayBlog.APi.Controllers.PostController.Get (RayBlog.APi)
2018-08-30 12:22:11.299 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["Microsoft.AspNetCore.Mvc.Cors.CorsAuthorizationFilter (Order: -2147483548)","Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"]
2018-08-30 12:22:11.301 +08:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
2018-08-30 12:22:11.302 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter"]
2018-08-30 12:22:11.303 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2018-08-30 12:22:11.305 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
2018-08-30 12:22:11.315 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2018-08-30 12:22:11.316 +08:00 [INF] Policy execution failed.
2018-08-30 12:22:11.317 +08:00 [INF] Request origin http://localhost:4200 does not have permission to access the resource.
2018-08-30 12:22:11.356 +08:00 [DBG] Attempting to bind parameter 'postParameters' of type 'RayBlog.Core.Entities.PostParameters' ...
2018-08-30 12:22:11.362 +08:00 [DBG] Attempting to bind model of type 'RayBlog.Core.Entities.PostParameters' using the name '' in request data ...
2018-08-30 12:22:11.370 +08:00 [DBG] Could not find a value in the request with name 'Title' for binding property 'RayBlog.Core.Entities.PostParameters.Title' of type 'System.String'.
2018-08-30 12:22:11.372 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.Title' of type 'System.String'.
2018-08-30 12:22:11.376 +08:00 [DBG] Attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageIndex' of type 'System.Int32' using the name 'PageIndex' in request data ...
2018-08-30 12:22:11.379 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageIndex' of type 'System.Int32'.
2018-08-30 12:22:11.382 +08:00 [DBG] Attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2018-08-30 12:22:11.392 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageSize' of type 'System.Int32'.
2018-08-30 12:22:11.398 +08:00 [DBG] Attempting to bind property 'RayBlog.Core.Entities.PostParameters.OrderBy' of type 'System.String' using the name 'OrderBy' in request data ...
2018-08-30 12:22:11.401 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.OrderBy' of type 'System.String'.
2018-08-30 12:22:11.402 +08:00 [DBG] Could not find a value in the request with name 'Fields' for binding property 'RayBlog.Core.Entities.PostParameters.Fields' of type 'System.String'.
2018-08-30 12:22:11.405 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.Fields' of type 'System.String'.
2018-08-30 12:22:11.409 +08:00 [DBG] Done attempting to bind model of type 'RayBlog.Core.Entities.PostParameters' using the name ''.
2018-08-30 12:22:11.411 +08:00 [DBG] Done attempting to bind parameter 'postParameters' of type 'RayBlog.Core.Entities.PostParameters'.
2018-08-30 12:22:11.462 +08:00 [INF] Executing action method RayBlog.APi.Controllers.PostController.Get (RayBlog.APi) with arguments (["RayBlog.Core.Entities.PostParameters"]) - Validation state: "Valid"
2018-08-30 12:22:11.499 +08:00 [INF] Entity Framework Core 2.1.2-rtm-30932 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-08-30 12:22:11.605 +08:00 [DBG] Compiling query model: 
'(from Post <generated>_2 in DbSet<Post>
order by [<generated>_2].Id desc
select [<generated>_2]).Count()'
2018-08-30 12:22:11.610 +08:00 [DBG] Optimized query model: 
'(from Post <generated>_2 in DbSet<Post>
select [<generated>_2]).Count()'
2018-08-30 12:22:11.630 +08:00 [DBG] (QueryContext queryContext) => IAsyncEnumerable<int> _InterceptExceptions(
    source: IAsyncEnumerable<int> _ToSequence(() => Task<int> GetResult(
            valueBuffers: IAsyncEnumerable<ValueBuffer> _Query(
                queryContext: queryContext, 
                shaperCommandContext: SelectExpression: 
                    SELECT COUNT(*)
                    FROM [Posts] AS [p]), 
            throwOnNullResult: False, 
            cancellationToken: queryContext.CancellationToken)), 
    contextType: RayBlog.Infrastructure.Database.MyContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)
2018-08-30 12:22:11.672 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:22:11.687 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:22:11.696 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2018-08-30 12:22:11.717 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2018-08-30 12:22:11.730 +08:00 [DBG] A data reader was disposed.
2018-08-30 12:22:11.731 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:22:11.733 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:22:11.753 +08:00 [DBG] Compiling query model: 
'(from Post <generated>_3 in DbSet<Post>
order by [<generated>_3].Id desc
select [<generated>_3])
.Skip(__p_0)
.Take(__p_1)'
2018-08-30 12:22:11.763 +08:00 [DBG] Optimized query model: 
'(from Post <generated>_3 in DbSet<Post>
order by [<generated>_3].Id desc
select [<generated>_3])
.Skip(__p_0)
.Take(__p_1)'
2018-08-30 12:22:11.779 +08:00 [DBG] (QueryContext queryContext) => IAsyncEnumerable<Post> _InterceptExceptions(
    source: IAsyncEnumerable<Post> _TrackEntities(
        results: IAsyncEnumerable<Post> _ShapedQuery(
            queryContext: queryContext, 
            shaperCommandContext: SelectExpression: 
                SELECT [p].[Id], [p].[Author], [p].[Body], [p].[LastModified], [p].[Remark], [p].[Title]
                FROM [Posts] AS [p]
                ORDER BY [p].[Id] DESC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
            shaper: UnbufferedEntityShaper<Post>), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: Post }, 
        entityAccessors: List<Func<Post, object>> 
        { 
            Func<Post, Post>, 
        }
    ), 
    contextType: RayBlog.Infrastructure.Database.MyContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)
2018-08-30 12:22:11.797 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:22:11.799 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:22:11.803 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Author], [p].[Body], [p].[LastModified], [p].[Remark], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[Id] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2018-08-30 12:22:11.830 +08:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Author], [p].[Body], [p].[LastModified], [p].[Remark], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[Id] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2018-08-30 12:22:11.891 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:22:11.918 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:22:11.919 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:22:11.921 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:22:11.922 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:22:11.923 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:22:11.927 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:22:11.928 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:22:11.930 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:22:11.933 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:22:11.934 +08:00 [DBG] A data reader was disposed.
2018-08-30 12:22:11.935 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:22:11.937 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:22:12.088 +08:00 [INF] Executed action method RayBlog.APi.Controllers.PostController.Get (RayBlog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 616.0575ms.
2018-08-30 12:22:12.102 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2018-08-30 12:22:12.112 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/vnd.whx.hateoas+json"]'.
2018-08-30 12:22:12.114 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter' and content type 'application/vnd.whx.hateoas+json' to write the response.
2018-08-30 12:22:12.115 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Dynamic.ExpandoObject, System.Linq.Expressions, Version=4.2.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a]]'.
2018-08-30 12:22:12.149 +08:00 [INF] Executed action RayBlog.APi.Controllers.PostController.Get (RayBlog.APi) in 827.16450000000009ms
2018-08-30 12:22:12.150 +08:00 [DBG] Connection id "0HLGE60JPC5UV" received FIN.
2018-08-30 12:22:12.171 +08:00 [DBG] Connection id "0HLGE60JPC5UV" disconnecting.
2018-08-30 12:22:12.179 +08:00 [DBG] 'MyContext' disposed.
2018-08-30 12:22:12.181 +08:00 [INF] Request finished in 1156.1829ms 200 application/vnd.whx.hateoas+json; charset=utf-8
2018-08-30 12:22:12.183 +08:00 [DBG] Connection id "0HLGE60JPC5UV" sending FIN.
2018-08-30 12:22:12.194 +08:00 [DBG] Connection id "0HLGE60JPC5UV" stopped.
2018-08-30 12:23:22.145 +08:00 [DBG] Connection id "0HLGE60JPC5V0" started.
2018-08-30 12:23:22.165 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:6001/api/posts?orderBy=id%20desc&pageSize=10&pageIndex=0  
2018-08-30 12:23:22.182 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2018-08-30 12:23:22.193 +08:00 [INF] Policy execution failed.
2018-08-30 12:43:15.221 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-08-30 12:43:15.701 +08:00 [INF] Entity Framework Core 2.1.2-rtm-30932 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-08-30 12:43:15.781 +08:00 [DBG] Compiling query model: 
'(from Post <generated>_1 in DbSet<Post>
select [<generated>_1]).Any()'
2018-08-30 12:43:15.832 +08:00 [DBG] Optimized query model: 
'(from Post <generated>_1 in DbSet<Post>
select [<generated>_1]).Any()'
2018-08-30 12:43:15.919 +08:00 [DBG] (QueryContext queryContext) => IEnumerable<bool> _InterceptExceptions(
    source: IEnumerable<bool> _ToSequence(() => bool GetResult(
            valueBuffers: IEnumerable<ValueBuffer> _Query(
                queryContext: queryContext, 
                shaperCommandContext: SelectExpression: 
                    SELECT CASE
                        WHEN EXISTS (
                            SELECT 1
                            FROM [Posts] AS [p])
                        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
                    END), 
            throwOnNullResult: False)), 
    contextType: RayBlog.Infrastructure.Database.MyContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)
2018-08-30 12:43:16.023 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:43:16.313 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:43:16.371 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Posts] AS [p])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-08-30 12:43:16.430 +08:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Posts] AS [p])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-08-30 12:43:16.581 +08:00 [DBG] A data reader was disposed.
2018-08-30 12:43:16.627 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:43:16.732 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:43:16.897 +08:00 [DBG] 'MyContext' disposed.
2018-08-30 12:43:16.974 +08:00 [DBG] Hosting starting
2018-08-30 12:43:17.045 +08:00 [INF] User profile is available. Using 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-08-30 12:43:17.063 +08:00 [DBG] Reading data from file 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys\key-73484aa6-e8f7-4802-a9b5-38bb7db19515.xml'.
2018-08-30 12:43:17.098 +08:00 [DBG] Reading data from file 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys\key-c851040d-9ce1-4a71-9adc-d84f3795dc9c.xml'.
2018-08-30 12:43:17.191 +08:00 [DBG] Found key "73484aa6-e8f7-4802-a9b5-38bb7db19515".
2018-08-30 12:43:17.243 +08:00 [DBG] Found key "c851040d-9ce1-4a71-9adc-d84f3795dc9c".
2018-08-30 12:43:17.264 +08:00 [DBG] Considering key "73484aa6-e8f7-4802-a9b5-38bb7db19515" with expiration date "2018-09-28T07:01:33.1620695+00:00" as default key.
2018-08-30 12:43:17.292 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-08-30 12:43:17.297 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-08-30 12:43:17.300 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-08-30 12:43:17.323 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-08-30 12:43:17.330 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-08-30 12:43:17.344 +08:00 [DBG] Using key "73484aa6-e8f7-4802-a9b5-38bb7db19515" as the default key.
2018-08-30 12:43:17.347 +08:00 [DBG] Key ring with default key "73484aa6-e8f7-4802-a9b5-38bb7db19515" was loaded during application startup.
2018-08-30 12:43:17.385 +08:00 [DBG] Compatibility switch AllowInputFormatterExceptionMessages in type MvcJsonOptions is using default value false
2018-08-30 12:43:17.429 +08:00 [DBG] Compatibility switch AllowCombiningAuthorizeFilters in type MvcOptions is using default value false
2018-08-30 12:43:17.431 +08:00 [DBG] Compatibility switch AllowBindingHeaderValuesToNonStringModelTypes in type MvcOptions is using default value false
2018-08-30 12:43:17.437 +08:00 [DBG] Compatibility switch AllowValidatingTopLevelNodes in type MvcOptions is using default value false
2018-08-30 12:43:17.441 +08:00 [DBG] Compatibility switch InputFormatterExceptionPolicy in type MvcOptions is using default value "AllExceptions"
2018-08-30 12:43:17.444 +08:00 [DBG] Compatibility switch SuppressBindingUndefinedValueToEnumType in type MvcOptions is using default value false
2018-08-30 12:43:17.472 +08:00 [DBG] Compatibility switch AllowAreas in type RazorPagesOptions is using default value false
2018-08-30 12:43:17.473 +08:00 [DBG] Compatibility switch AllowMappingHeadRequestsToGetHandler in type RazorPagesOptions is using default value false
2018-08-30 12:43:17.507 +08:00 [DBG] Compatibility switch SuppressTempDataAttributePrefix in type MvcViewOptions is using default value false
2018-08-30 12:43:17.540 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2018-08-30 12:43:17.616 +08:00 [DBG] Failed to locate the development https certificate at 'null'.
2018-08-30 12:43:17.704 +08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D30E946E0AD126EEA5F9A35F1B7DB97F0FE3D2EA)
2018-08-30 12:43:17.750 +08:00 [DBG] Hosting started
2018-08-30 12:43:17.764 +08:00 [DBG] Loaded hosting startup assembly RayBlog.APi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
2018-08-30 12:43:22.984 +08:00 [DBG] Connection id "0HLGE6CF0J3NV" started.
2018-08-30 12:43:23.065 +08:00 [DBG] Connection id "0HLGE6CF0J3O0" started.
2018-08-30 12:43:23.067 +08:00 [DBG] Connection id "0HLGE6CF0J3O1" started.
2018-08-30 12:43:23.633 +08:00 [DBG] Connection id "0HLGE6CF0J3NV" received FIN.
2018-08-30 12:43:23.634 +08:00 [DBG] Connection id "0HLGE6CF0J3O0" received FIN.
2018-08-30 12:43:23.634 +08:00 [DBG] Connection id "0HLGE6CF0J3O1" received FIN.
2018-08-30 12:43:23.659 +08:00 [DBG] Connection id "0HLGE6CF0J3O0" disconnecting.
2018-08-30 12:43:23.649 +08:00 [DBG] Connection id "0HLGE6CF0J3NV" disconnecting.
2018-08-30 12:43:23.665 +08:00 [DBG] Connection id "0HLGE6CF0J3O1" disconnecting.
2018-08-30 12:43:23.672 +08:00 [DBG] Connection id "0HLGE6CF0J3NV" sending FIN.
2018-08-30 12:43:23.672 +08:00 [DBG] Connection id "0HLGE6CF0J3O0" sending FIN.
2018-08-30 12:43:23.673 +08:00 [DBG] Connection id "0HLGE6CF0J3O1" sending FIN.
2018-08-30 12:43:23.698 +08:00 [DBG] Connection id "0HLGE6CF0J3O1" stopped.
2018-08-30 12:43:23.698 +08:00 [DBG] Connection id "0HLGE6CF0J3NV" stopped.
2018-08-30 12:43:23.698 +08:00 [DBG] Connection id "0HLGE6CF0J3O0" stopped.
2018-08-30 12:43:27.101 +08:00 [DBG] Connection id "0HLGE6CF0J3O2" started.
2018-08-30 12:43:27.222 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:6001/api/posts?orderBy=id%20desc&pageSize=10&pageIndex=0  
2018-08-30 12:43:27.613 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2018-08-30 12:43:27.622 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2018-08-30 12:43:27.630 +08:00 [INF] Policy execution successful.
2018-08-30 12:43:27.715 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2018-08-30 12:43:27.903 +08:00 [DBG] Request successfully matched the route with name 'GetPosts' and template 'api/posts'.
2018-08-30 12:43:27.979 +08:00 [DBG] Action 'RayBlog.APi.Controllers.PostController.Post (RayBlog.APi)' with id '1fd8e0d4-74d5-405a-9b8c-6b17287cb725' did not match the constraint 'RayBlog.APi.Helpers.RequestHeaderMatchingMediaTypeAttribute'
2018-08-30 12:43:28.050 +08:00 [INF] Route matched with {action = "Get", controller = "Post"}. Executing action RayBlog.APi.Controllers.PostController.Get (RayBlog.APi)
2018-08-30 12:43:28.052 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["Microsoft.AspNetCore.Mvc.Cors.CorsAuthorizationFilter (Order: -2147483548)","Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"]
2018-08-30 12:43:28.063 +08:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
2018-08-30 12:43:28.067 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter"]
2018-08-30 12:43:28.077 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2018-08-30 12:43:28.079 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
2018-08-30 12:43:28.094 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2018-08-30 12:43:28.098 +08:00 [INF] Policy execution successful.
2018-08-30 12:43:28.156 +08:00 [DBG] Attempting to bind parameter 'postParameters' of type 'RayBlog.Core.Entities.PostParameters' ...
2018-08-30 12:43:28.181 +08:00 [DBG] Attempting to bind model of type 'RayBlog.Core.Entities.PostParameters' using the name '' in request data ...
2018-08-30 12:43:28.229 +08:00 [DBG] Could not find a value in the request with name 'Title' for binding property 'RayBlog.Core.Entities.PostParameters.Title' of type 'System.String'.
2018-08-30 12:43:28.234 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.Title' of type 'System.String'.
2018-08-30 12:43:28.258 +08:00 [DBG] Attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageIndex' of type 'System.Int32' using the name 'PageIndex' in request data ...
2018-08-30 12:43:28.267 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageIndex' of type 'System.Int32'.
2018-08-30 12:43:28.278 +08:00 [DBG] Attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2018-08-30 12:43:28.282 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageSize' of type 'System.Int32'.
2018-08-30 12:43:28.286 +08:00 [DBG] Attempting to bind property 'RayBlog.Core.Entities.PostParameters.OrderBy' of type 'System.String' using the name 'OrderBy' in request data ...
2018-08-30 12:43:28.298 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.OrderBy' of type 'System.String'.
2018-08-30 12:43:28.309 +08:00 [DBG] Could not find a value in the request with name 'Fields' for binding property 'RayBlog.Core.Entities.PostParameters.Fields' of type 'System.String'.
2018-08-30 12:43:28.318 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.Fields' of type 'System.String'.
2018-08-30 12:43:28.328 +08:00 [DBG] Done attempting to bind model of type 'RayBlog.Core.Entities.PostParameters' using the name ''.
2018-08-30 12:43:28.333 +08:00 [DBG] Done attempting to bind parameter 'postParameters' of type 'RayBlog.Core.Entities.PostParameters'.
2018-08-30 12:43:28.384 +08:00 [INF] Executing action method RayBlog.APi.Controllers.PostController.Get (RayBlog.APi) with arguments (["RayBlog.Core.Entities.PostParameters"]) - Validation state: "Valid"
2018-08-30 12:43:28.469 +08:00 [INF] Entity Framework Core 2.1.2-rtm-30932 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-08-30 12:43:28.600 +08:00 [DBG] Compiling query model: 
'(from Post <generated>_2 in DbSet<Post>
order by [<generated>_2].Id desc
select [<generated>_2]).Count()'
2018-08-30 12:43:28.622 +08:00 [DBG] Optimized query model: 
'(from Post <generated>_2 in DbSet<Post>
select [<generated>_2]).Count()'
2018-08-30 12:43:28.652 +08:00 [DBG] (QueryContext queryContext) => IAsyncEnumerable<int> _InterceptExceptions(
    source: IAsyncEnumerable<int> _ToSequence(() => Task<int> GetResult(
            valueBuffers: IAsyncEnumerable<ValueBuffer> _Query(
                queryContext: queryContext, 
                shaperCommandContext: SelectExpression: 
                    SELECT COUNT(*)
                    FROM [Posts] AS [p]), 
            throwOnNullResult: False, 
            cancellationToken: queryContext.CancellationToken)), 
    contextType: RayBlog.Infrastructure.Database.MyContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)
2018-08-30 12:43:28.729 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:43:28.733 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:43:28.737 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2018-08-30 12:43:28.767 +08:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2018-08-30 12:43:28.791 +08:00 [DBG] A data reader was disposed.
2018-08-30 12:43:28.792 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:43:28.795 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:43:28.816 +08:00 [DBG] Compiling query model: 
'(from Post <generated>_3 in DbSet<Post>
order by [<generated>_3].Id desc
select [<generated>_3])
.Skip(__p_0)
.Take(__p_1)'
2018-08-30 12:43:28.828 +08:00 [DBG] Optimized query model: 
'(from Post <generated>_3 in DbSet<Post>
order by [<generated>_3].Id desc
select [<generated>_3])
.Skip(__p_0)
.Take(__p_1)'
2018-08-30 12:43:28.862 +08:00 [DBG] (QueryContext queryContext) => IAsyncEnumerable<Post> _InterceptExceptions(
    source: IAsyncEnumerable<Post> _TrackEntities(
        results: IAsyncEnumerable<Post> _ShapedQuery(
            queryContext: queryContext, 
            shaperCommandContext: SelectExpression: 
                SELECT [p].[Id], [p].[Author], [p].[Body], [p].[LastModified], [p].[Remark], [p].[Title]
                FROM [Posts] AS [p]
                ORDER BY [p].[Id] DESC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
            shaper: UnbufferedEntityShaper<Post>), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: Post }, 
        entityAccessors: List<Func<Post, object>> 
        { 
            Func<Post, Post>, 
        }
    ), 
    contextType: RayBlog.Infrastructure.Database.MyContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)
2018-08-30 12:43:28.898 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:43:28.900 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:43:28.907 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Author], [p].[Body], [p].[LastModified], [p].[Remark], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[Id] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2018-08-30 12:43:28.916 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Author], [p].[Body], [p].[LastModified], [p].[Remark], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[Id] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2018-08-30 12:43:29.018 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:43:29.044 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:43:29.046 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:43:29.048 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:43:29.051 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:43:29.053 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:43:29.057 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:43:29.060 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:43:29.062 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:43:29.069 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:43:29.075 +08:00 [DBG] A data reader was disposed.
2018-08-30 12:43:29.078 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:43:29.079 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:43:29.235 +08:00 [INF] Executed action method RayBlog.APi.Controllers.PostController.Get (RayBlog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 836.20310000000006ms.
2018-08-30 12:43:29.253 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2018-08-30 12:43:29.281 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/vnd.whx.hateoas+json"]'.
2018-08-30 12:43:29.283 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter' and content type 'application/vnd.whx.hateoas+json' to write the response.
2018-08-30 12:43:29.285 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Dynamic.ExpandoObject, System.Linq.Expressions, Version=4.2.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a]]'.
2018-08-30 12:43:29.334 +08:00 [INF] Executed action RayBlog.APi.Controllers.PostController.Get (RayBlog.APi) in 1247.2003ms
2018-08-30 12:43:29.344 +08:00 [DBG] Connection id "0HLGE6CF0J3O2" completed keep alive response.
2018-08-30 12:43:29.362 +08:00 [DBG] 'MyContext' disposed.
2018-08-30 12:43:29.364 +08:00 [INF] Request finished in 2145.7912ms 200 application/vnd.whx.hateoas+json; charset=utf-8
2018-08-30 12:43:33.630 +08:00 [DBG] Connection id "0HLGE6CF0J3O2" received FIN.
2018-08-30 12:43:33.633 +08:00 [DBG] Connection id "0HLGE6CF0J3O2" disconnecting.
2018-08-30 12:43:33.635 +08:00 [DBG] Connection id "0HLGE6CF0J3O2" sending FIN.
2018-08-30 12:43:33.636 +08:00 [DBG] Connection id "0HLGE6CF0J3O2" stopped.
2018-08-30 12:45:10.302 +08:00 [DBG] Connection id "0HLGE6CF0J3O3" started.
2018-08-30 12:45:10.318 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:6001/api/posts?orderBy=id%20desc&pageSize=10&pageIndex=0  
2018-08-30 12:45:10.328 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2018-08-30 12:45:10.331 +08:00 [INF] Policy execution successful.
2018-08-30 12:45:10.334 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2018-08-30 12:45:10.403 +08:00 [DBG] Request successfully matched the route with name 'GetPosts' and template 'api/posts'.
2018-08-30 12:45:10.420 +08:00 [DBG] Action 'RayBlog.APi.Controllers.PostController.Post (RayBlog.APi)' with id '1fd8e0d4-74d5-405a-9b8c-6b17287cb725' did not match the constraint 'RayBlog.APi.Helpers.RequestHeaderMatchingMediaTypeAttribute'
2018-08-30 12:45:10.429 +08:00 [INF] Route matched with {action = "Get", controller = "Post"}. Executing action RayBlog.APi.Controllers.PostController.Get (RayBlog.APi)
2018-08-30 12:45:10.433 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["Microsoft.AspNetCore.Mvc.Cors.CorsAuthorizationFilter (Order: -2147483548)","Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"]
2018-08-30 12:45:10.436 +08:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
2018-08-30 12:45:10.447 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter"]
2018-08-30 12:45:10.466 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2018-08-30 12:45:10.483 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
2018-08-30 12:45:10.485 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2018-08-30 12:45:10.486 +08:00 [INF] Policy execution successful.
2018-08-30 12:45:10.489 +08:00 [DBG] Attempting to bind parameter 'postParameters' of type 'RayBlog.Core.Entities.PostParameters' ...
2018-08-30 12:45:10.504 +08:00 [DBG] Attempting to bind model of type 'RayBlog.Core.Entities.PostParameters' using the name '' in request data ...
2018-08-30 12:45:10.514 +08:00 [DBG] Could not find a value in the request with name 'Title' for binding property 'RayBlog.Core.Entities.PostParameters.Title' of type 'System.String'.
2018-08-30 12:45:10.517 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.Title' of type 'System.String'.
2018-08-30 12:45:10.520 +08:00 [DBG] Attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageIndex' of type 'System.Int32' using the name 'PageIndex' in request data ...
2018-08-30 12:45:10.522 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageIndex' of type 'System.Int32'.
2018-08-30 12:45:10.524 +08:00 [DBG] Attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2018-08-30 12:45:10.530 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageSize' of type 'System.Int32'.
2018-08-30 12:45:10.537 +08:00 [DBG] Attempting to bind property 'RayBlog.Core.Entities.PostParameters.OrderBy' of type 'System.String' using the name 'OrderBy' in request data ...
2018-08-30 12:45:10.551 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.OrderBy' of type 'System.String'.
2018-08-30 12:45:10.555 +08:00 [DBG] Could not find a value in the request with name 'Fields' for binding property 'RayBlog.Core.Entities.PostParameters.Fields' of type 'System.String'.
2018-08-30 12:45:10.562 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.Fields' of type 'System.String'.
2018-08-30 12:45:10.566 +08:00 [DBG] Done attempting to bind model of type 'RayBlog.Core.Entities.PostParameters' using the name ''.
2018-08-30 12:45:10.568 +08:00 [DBG] Done attempting to bind parameter 'postParameters' of type 'RayBlog.Core.Entities.PostParameters'.
2018-08-30 12:45:10.572 +08:00 [INF] Executing action method RayBlog.APi.Controllers.PostController.Get (RayBlog.APi) with arguments (["RayBlog.Core.Entities.PostParameters"]) - Validation state: "Valid"
2018-08-30 12:45:10.596 +08:00 [INF] Entity Framework Core 2.1.2-rtm-30932 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-08-30 12:45:10.602 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:45:10.605 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:45:10.618 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2018-08-30 12:45:10.633 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2018-08-30 12:45:10.684 +08:00 [DBG] A data reader was disposed.
2018-08-30 12:45:10.686 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:45:10.688 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:45:10.704 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:45:10.706 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:45:10.714 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Author], [p].[Body], [p].[LastModified], [p].[Remark], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[Id] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2018-08-30 12:45:10.735 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Author], [p].[Body], [p].[LastModified], [p].[Remark], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[Id] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2018-08-30 12:45:10.766 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:45:10.769 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:45:10.773 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:45:10.785 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:45:10.790 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:45:10.796 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:45:10.798 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:45:10.800 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:45:10.802 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:45:10.807 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 12:45:10.814 +08:00 [DBG] A data reader was disposed.
2018-08-30 12:45:10.815 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:45:10.817 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 12:45:10.819 +08:00 [INF] Executed action method RayBlog.APi.Controllers.PostController.Get (RayBlog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 224.29340000000002ms.
2018-08-30 12:45:10.822 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2018-08-30 12:45:10.839 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/vnd.whx.hateoas+json"]'.
2018-08-30 12:45:10.840 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter' and content type 'application/vnd.whx.hateoas+json' to write the response.
2018-08-30 12:45:10.849 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Dynamic.ExpandoObject, System.Linq.Expressions, Version=4.2.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a]]'.
2018-08-30 12:45:10.855 +08:00 [INF] Executed action RayBlog.APi.Controllers.PostController.Get (RayBlog.APi) in 369.5941ms
2018-08-30 12:45:10.857 +08:00 [DBG] Connection id "0HLGE6CF0J3O3" completed keep alive response.
2018-08-30 12:45:10.870 +08:00 [DBG] 'MyContext' disposed.
2018-08-30 12:45:10.872 +08:00 [INF] Request finished in 553.7808ms 200 application/vnd.whx.hateoas+json; charset=utf-8
2018-08-30 12:45:13.651 +08:00 [DBG] Connection id "0HLGE6CF0J3O3" received FIN.
2018-08-30 12:45:13.654 +08:00 [DBG] Connection id "0HLGE6CF0J3O3" disconnecting.
2018-08-30 12:45:13.656 +08:00 [DBG] Connection id "0HLGE6CF0J3O3" sending FIN.
2018-08-30 12:45:13.658 +08:00 [DBG] Connection id "0HLGE6CF0J3O3" stopped.
2018-08-30 13:33:43.807 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-08-30 13:33:44.080 +08:00 [INF] Entity Framework Core 2.1.2-rtm-30932 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-08-30 13:33:44.135 +08:00 [DBG] Compiling query model: 
'(from Post <generated>_1 in DbSet<Post>
select [<generated>_1]).Any()'
2018-08-30 13:33:44.156 +08:00 [DBG] Optimized query model: 
'(from Post <generated>_1 in DbSet<Post>
select [<generated>_1]).Any()'
2018-08-30 13:33:44.210 +08:00 [DBG] (QueryContext queryContext) => IEnumerable<bool> _InterceptExceptions(
    source: IEnumerable<bool> _ToSequence(() => bool GetResult(
            valueBuffers: IEnumerable<ValueBuffer> _Query(
                queryContext: queryContext, 
                shaperCommandContext: SelectExpression: 
                    SELECT CASE
                        WHEN EXISTS (
                            SELECT 1
                            FROM [Posts] AS [p])
                        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
                    END), 
            throwOnNullResult: False)), 
    contextType: RayBlog.Infrastructure.Database.MyContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)
2018-08-30 13:33:44.248 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 13:33:44.320 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 13:33:44.371 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Posts] AS [p])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-08-30 13:33:44.403 +08:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Posts] AS [p])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-08-30 13:33:44.426 +08:00 [DBG] A data reader was disposed.
2018-08-30 13:33:44.427 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 13:33:44.429 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 13:33:44.433 +08:00 [DBG] 'MyContext' disposed.
2018-08-30 13:33:44.446 +08:00 [DBG] Hosting starting
2018-08-30 13:33:44.479 +08:00 [INF] User profile is available. Using 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-08-30 13:33:44.488 +08:00 [DBG] Reading data from file 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys\key-73484aa6-e8f7-4802-a9b5-38bb7db19515.xml'.
2018-08-30 13:33:44.507 +08:00 [DBG] Reading data from file 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys\key-c851040d-9ce1-4a71-9adc-d84f3795dc9c.xml'.
2018-08-30 13:33:44.514 +08:00 [DBG] Found key "73484aa6-e8f7-4802-a9b5-38bb7db19515".
2018-08-30 13:33:44.519 +08:00 [DBG] Found key "c851040d-9ce1-4a71-9adc-d84f3795dc9c".
2018-08-30 13:33:44.534 +08:00 [DBG] Considering key "73484aa6-e8f7-4802-a9b5-38bb7db19515" with expiration date "2018-09-28T07:01:33.1620695+00:00" as default key.
2018-08-30 13:33:44.549 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-08-30 13:33:44.553 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-08-30 13:33:44.555 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-08-30 13:33:44.557 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-08-30 13:33:44.560 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-08-30 13:33:44.567 +08:00 [DBG] Using key "73484aa6-e8f7-4802-a9b5-38bb7db19515" as the default key.
2018-08-30 13:33:44.570 +08:00 [DBG] Key ring with default key "73484aa6-e8f7-4802-a9b5-38bb7db19515" was loaded during application startup.
2018-08-30 13:33:44.587 +08:00 [DBG] Compatibility switch AllowInputFormatterExceptionMessages in type MvcJsonOptions is using default value false
2018-08-30 13:33:44.608 +08:00 [DBG] Compatibility switch AllowCombiningAuthorizeFilters in type MvcOptions is using default value false
2018-08-30 13:33:44.610 +08:00 [DBG] Compatibility switch AllowBindingHeaderValuesToNonStringModelTypes in type MvcOptions is using default value false
2018-08-30 13:33:44.612 +08:00 [DBG] Compatibility switch AllowValidatingTopLevelNodes in type MvcOptions is using default value false
2018-08-30 13:33:44.613 +08:00 [DBG] Compatibility switch InputFormatterExceptionPolicy in type MvcOptions is using default value "AllExceptions"
2018-08-30 13:33:44.616 +08:00 [DBG] Compatibility switch SuppressBindingUndefinedValueToEnumType in type MvcOptions is using default value false
2018-08-30 13:33:44.631 +08:00 [DBG] Compatibility switch AllowAreas in type RazorPagesOptions is using default value false
2018-08-30 13:33:44.635 +08:00 [DBG] Compatibility switch AllowMappingHeadRequestsToGetHandler in type RazorPagesOptions is using default value false
2018-08-30 13:33:44.676 +08:00 [DBG] Compatibility switch SuppressTempDataAttributePrefix in type MvcViewOptions is using default value false
2018-08-30 13:33:44.719 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2018-08-30 13:33:44.784 +08:00 [DBG] Failed to locate the development https certificate at 'null'.
2018-08-30 13:33:44.840 +08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D30E946E0AD126EEA5F9A35F1B7DB97F0FE3D2EA)
2018-08-30 13:33:44.871 +08:00 [DBG] Hosting started
2018-08-30 13:33:44.873 +08:00 [DBG] Loaded hosting startup assembly RayBlog.APi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
2018-08-30 13:48:34.638 +08:00 [DBG] Connection id "0HLGE7GSP0062" started.
2018-08-30 13:48:34.875 +08:00 [DBG] Connection id "0HLGE7GSP0063" started.
2018-08-30 13:48:34.877 +08:00 [DBG] Connection id "0HLGE7GSP0064" started.
2018-08-30 13:48:39.366 +08:00 [DBG] Connection id "0HLGE7GSP0064" received FIN.
2018-08-30 13:48:39.366 +08:00 [DBG] Connection id "0HLGE7GSP0062" received FIN.
2018-08-30 13:48:39.366 +08:00 [DBG] Connection id "0HLGE7GSP0063" received FIN.
2018-08-30 13:48:39.371 +08:00 [DBG] Connection id "0HLGE7GSP0064" disconnecting.
2018-08-30 13:48:39.372 +08:00 [DBG] Connection id "0HLGE7GSP0062" disconnecting.
2018-08-30 13:48:39.379 +08:00 [DBG] Connection id "0HLGE7GSP0063" disconnecting.
2018-08-30 13:48:39.381 +08:00 [DBG] Connection id "0HLGE7GSP0064" sending FIN.
2018-08-30 13:48:39.381 +08:00 [DBG] Connection id "0HLGE7GSP0062" sending FIN.
2018-08-30 13:48:39.382 +08:00 [DBG] Connection id "0HLGE7GSP0063" sending FIN.
2018-08-30 13:48:39.394 +08:00 [DBG] Connection id "0HLGE7GSP0062" stopped.
2018-08-30 13:48:39.394 +08:00 [DBG] Connection id "0HLGE7GSP0064" stopped.
2018-08-30 13:48:39.394 +08:00 [DBG] Connection id "0HLGE7GSP0063" stopped.
2018-08-30 13:50:04.388 +08:00 [DBG] Connection id "0HLGE7GSP0065" started.
2018-08-30 13:50:04.394 +08:00 [DBG] Connection id "0HLGE7GSP0066" started.
2018-08-30 13:50:06.364 +08:00 [DBG] Connection id "0HLGE7GSP0067" started.
2018-08-30 13:50:06.392 +08:00 [DBG] Connection id "0HLGE7GSP0067" received FIN.
2018-08-30 13:50:06.401 +08:00 [DBG] Connection id "0HLGE7GSP0067" disconnecting.
2018-08-30 13:50:06.410 +08:00 [DBG] Connection id "0HLGE7GSP0067" sending FIN.
2018-08-30 13:50:06.420 +08:00 [DBG] Connection id "0HLGE7GSP0067" stopped.
2018-08-30 13:50:09.385 +08:00 [DBG] Connection id "0HLGE7GSP0065" received FIN.
2018-08-30 13:50:09.385 +08:00 [DBG] Connection id "0HLGE7GSP0066" received FIN.
2018-08-30 13:50:09.387 +08:00 [DBG] Connection id "0HLGE7GSP0065" disconnecting.
2018-08-30 13:50:09.390 +08:00 [DBG] Connection id "0HLGE7GSP0065" sending FIN.
2018-08-30 13:50:09.388 +08:00 [DBG] Connection id "0HLGE7GSP0066" disconnecting.
2018-08-30 13:50:09.392 +08:00 [DBG] Connection id "0HLGE7GSP0065" stopped.
2018-08-30 13:50:09.393 +08:00 [DBG] Connection id "0HLGE7GSP0066" sending FIN.
2018-08-30 13:50:09.397 +08:00 [DBG] Connection id "0HLGE7GSP0066" stopped.
2018-08-30 13:50:28.688 +08:00 [DBG] Hosting shutdown
2018-08-30 13:50:47.117 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-08-30 13:50:47.475 +08:00 [INF] Entity Framework Core 2.1.2-rtm-30932 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-08-30 13:50:47.520 +08:00 [DBG] Compiling query model: 
'(from Post <generated>_1 in DbSet<Post>
select [<generated>_1]).Any()'
2018-08-30 13:50:47.542 +08:00 [DBG] Optimized query model: 
'(from Post <generated>_1 in DbSet<Post>
select [<generated>_1]).Any()'
2018-08-30 13:50:47.611 +08:00 [DBG] (QueryContext queryContext) => IEnumerable<bool> _InterceptExceptions(
    source: IEnumerable<bool> _ToSequence(() => bool GetResult(
            valueBuffers: IEnumerable<ValueBuffer> _Query(
                queryContext: queryContext, 
                shaperCommandContext: SelectExpression: 
                    SELECT CASE
                        WHEN EXISTS (
                            SELECT 1
                            FROM [Posts] AS [p])
                        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
                    END), 
            throwOnNullResult: False)), 
    contextType: RayBlog.Infrastructure.Database.MyContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)
2018-08-30 13:50:47.640 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 13:50:47.718 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 13:50:47.757 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Posts] AS [p])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-08-30 13:50:47.779 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Posts] AS [p])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-08-30 13:50:47.792 +08:00 [DBG] A data reader was disposed.
2018-08-30 13:50:47.793 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 13:50:47.795 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 13:50:47.797 +08:00 [DBG] 'MyContext' disposed.
2018-08-30 13:50:47.805 +08:00 [DBG] Hosting starting
2018-08-30 13:50:47.839 +08:00 [INF] User profile is available. Using 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-08-30 13:50:47.848 +08:00 [DBG] Reading data from file 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys\key-73484aa6-e8f7-4802-a9b5-38bb7db19515.xml'.
2018-08-30 13:50:47.865 +08:00 [DBG] Reading data from file 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys\key-c851040d-9ce1-4a71-9adc-d84f3795dc9c.xml'.
2018-08-30 13:50:47.877 +08:00 [DBG] Found key "73484aa6-e8f7-4802-a9b5-38bb7db19515".
2018-08-30 13:50:47.879 +08:00 [DBG] Found key "c851040d-9ce1-4a71-9adc-d84f3795dc9c".
2018-08-30 13:50:47.894 +08:00 [DBG] Considering key "73484aa6-e8f7-4802-a9b5-38bb7db19515" with expiration date "2018-09-28T07:01:33.1620695+00:00" as default key.
2018-08-30 13:50:47.910 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-08-30 13:50:47.912 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-08-30 13:50:47.915 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-08-30 13:50:47.918 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-08-30 13:50:47.925 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-08-30 13:50:47.931 +08:00 [DBG] Using key "73484aa6-e8f7-4802-a9b5-38bb7db19515" as the default key.
2018-08-30 13:50:47.934 +08:00 [DBG] Key ring with default key "73484aa6-e8f7-4802-a9b5-38bb7db19515" was loaded during application startup.
2018-08-30 13:50:47.949 +08:00 [DBG] Compatibility switch AllowInputFormatterExceptionMessages in type MvcJsonOptions is using default value false
2018-08-30 13:50:47.966 +08:00 [DBG] Compatibility switch AllowCombiningAuthorizeFilters in type MvcOptions is using default value false
2018-08-30 13:50:47.967 +08:00 [DBG] Compatibility switch AllowBindingHeaderValuesToNonStringModelTypes in type MvcOptions is using default value false
2018-08-30 13:50:47.969 +08:00 [DBG] Compatibility switch AllowValidatingTopLevelNodes in type MvcOptions is using default value false
2018-08-30 13:50:47.971 +08:00 [DBG] Compatibility switch InputFormatterExceptionPolicy in type MvcOptions is using default value "AllExceptions"
2018-08-30 13:50:47.974 +08:00 [DBG] Compatibility switch SuppressBindingUndefinedValueToEnumType in type MvcOptions is using default value false
2018-08-30 13:50:47.993 +08:00 [DBG] Compatibility switch AllowAreas in type RazorPagesOptions is using default value false
2018-08-30 13:50:47.995 +08:00 [DBG] Compatibility switch AllowMappingHeadRequestsToGetHandler in type RazorPagesOptions is using default value false
2018-08-30 13:50:48.025 +08:00 [DBG] Compatibility switch SuppressTempDataAttributePrefix in type MvcViewOptions is using default value false
2018-08-30 13:50:48.058 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2018-08-30 13:50:48.114 +08:00 [DBG] Failed to locate the development https certificate at 'null'.
2018-08-30 13:50:48.174 +08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D30E946E0AD126EEA5F9A35F1B7DB97F0FE3D2EA)
2018-08-30 13:50:48.235 +08:00 [DBG] Hosting started
2018-08-30 13:50:48.240 +08:00 [DBG] Loaded hosting startup assembly RayBlog.APi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
2018-08-30 13:50:48.309 +08:00 [DBG] Connection id "0HLGE7I4JSGK7" started.
2018-08-30 13:50:48.500 +08:00 [DBG] Connection id "0HLGE7I4JSGK7" received FIN.
2018-08-30 13:50:48.531 +08:00 [DBG] Connection id "0HLGE7I4JSGK7" sending FIN.
2018-08-30 13:50:48.580 +08:00 [DBG] Connection id "0HLGE7I4JSGK7" stopped.
2018-08-30 13:51:33.426 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-08-30 13:51:33.669 +08:00 [INF] Entity Framework Core 2.1.2-rtm-30932 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-08-30 13:51:33.718 +08:00 [DBG] Compiling query model: 
'(from Post <generated>_1 in DbSet<Post>
select [<generated>_1]).Any()'
2018-08-30 13:51:33.748 +08:00 [DBG] Optimized query model: 
'(from Post <generated>_1 in DbSet<Post>
select [<generated>_1]).Any()'
2018-08-30 13:51:33.800 +08:00 [DBG] (QueryContext queryContext) => IEnumerable<bool> _InterceptExceptions(
    source: IEnumerable<bool> _ToSequence(() => bool GetResult(
            valueBuffers: IEnumerable<ValueBuffer> _Query(
                queryContext: queryContext, 
                shaperCommandContext: SelectExpression: 
                    SELECT CASE
                        WHEN EXISTS (
                            SELECT 1
                            FROM [Posts] AS [p])
                        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
                    END), 
            throwOnNullResult: False)), 
    contextType: RayBlog.Infrastructure.Database.MyContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)
2018-08-30 13:51:33.822 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 13:51:33.868 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 13:51:33.901 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Posts] AS [p])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-08-30 13:51:33.918 +08:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Posts] AS [p])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-08-30 13:51:33.932 +08:00 [DBG] A data reader was disposed.
2018-08-30 13:51:33.934 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 13:51:33.935 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 13:51:33.938 +08:00 [DBG] 'MyContext' disposed.
2018-08-30 13:51:33.945 +08:00 [DBG] Hosting starting
2018-08-30 13:51:33.972 +08:00 [INF] User profile is available. Using 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-08-30 13:51:33.981 +08:00 [DBG] Reading data from file 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys\key-73484aa6-e8f7-4802-a9b5-38bb7db19515.xml'.
2018-08-30 13:51:33.996 +08:00 [DBG] Reading data from file 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys\key-c851040d-9ce1-4a71-9adc-d84f3795dc9c.xml'.
2018-08-30 13:51:34.001 +08:00 [DBG] Found key "73484aa6-e8f7-4802-a9b5-38bb7db19515".
2018-08-30 13:51:34.005 +08:00 [DBG] Found key "c851040d-9ce1-4a71-9adc-d84f3795dc9c".
2018-08-30 13:51:34.014 +08:00 [DBG] Considering key "73484aa6-e8f7-4802-a9b5-38bb7db19515" with expiration date "2018-09-28T07:01:33.1620695+00:00" as default key.
2018-08-30 13:51:34.027 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-08-30 13:51:34.029 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-08-30 13:51:34.031 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-08-30 13:51:34.033 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-08-30 13:51:34.036 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-08-30 13:51:34.045 +08:00 [DBG] Using key "73484aa6-e8f7-4802-a9b5-38bb7db19515" as the default key.
2018-08-30 13:51:34.046 +08:00 [DBG] Key ring with default key "73484aa6-e8f7-4802-a9b5-38bb7db19515" was loaded during application startup.
2018-08-30 13:51:34.059 +08:00 [DBG] Compatibility switch AllowInputFormatterExceptionMessages in type MvcJsonOptions is using default value false
2018-08-30 13:51:34.069 +08:00 [DBG] Compatibility switch AllowCombiningAuthorizeFilters in type MvcOptions is using default value false
2018-08-30 13:51:34.072 +08:00 [DBG] Compatibility switch AllowBindingHeaderValuesToNonStringModelTypes in type MvcOptions is using default value false
2018-08-30 13:51:34.074 +08:00 [DBG] Compatibility switch AllowValidatingTopLevelNodes in type MvcOptions is using default value false
2018-08-30 13:51:34.075 +08:00 [DBG] Compatibility switch InputFormatterExceptionPolicy in type MvcOptions is using default value "AllExceptions"
2018-08-30 13:51:34.076 +08:00 [DBG] Compatibility switch SuppressBindingUndefinedValueToEnumType in type MvcOptions is using default value false
2018-08-30 13:51:34.084 +08:00 [DBG] Compatibility switch AllowAreas in type RazorPagesOptions is using default value false
2018-08-30 13:51:34.085 +08:00 [DBG] Compatibility switch AllowMappingHeadRequestsToGetHandler in type RazorPagesOptions is using default value false
2018-08-30 13:51:34.102 +08:00 [DBG] Compatibility switch SuppressTempDataAttributePrefix in type MvcViewOptions is using default value false
2018-08-30 13:51:34.123 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2018-08-30 13:51:34.162 +08:00 [DBG] Failed to locate the development https certificate at 'null'.
2018-08-30 13:51:34.202 +08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D30E946E0AD126EEA5F9A35F1B7DB97F0FE3D2EA)
2018-08-30 13:51:34.232 +08:00 [DBG] Hosting started
2018-08-30 13:51:34.233 +08:00 [DBG] Loaded hosting startup assembly RayBlog.APi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
2018-08-30 13:54:51.551 +08:00 [DBG] Connection id "0HLGE7KD3KFNK" started.
2018-08-30 13:54:51.864 +08:00 [DBG] Connection id "0HLGE7KD3KFNK" received FIN.
2018-08-30 13:54:51.935 +08:00 [DBG] Connection id "0HLGE7KD3KFNK" disconnecting.
2018-08-30 13:54:51.952 +08:00 [DBG] Connection id "0HLGE7KD3KFNK" sending FIN.
2018-08-30 13:54:51.964 +08:00 [DBG] Connection id "0HLGE7KD3KFNK" stopped.
2018-08-30 13:55:46.536 +08:00 [DBG] Hosting shutdown
2018-08-30 13:56:05.148 +08:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2018-08-30 13:56:05.389 +08:00 [INF] Entity Framework Core 2.1.2-rtm-30932 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-08-30 13:56:05.431 +08:00 [DBG] Compiling query model: 
'(from Post <generated>_1 in DbSet<Post>
select [<generated>_1]).Any()'
2018-08-30 13:56:05.452 +08:00 [DBG] Optimized query model: 
'(from Post <generated>_1 in DbSet<Post>
select [<generated>_1]).Any()'
2018-08-30 13:56:05.502 +08:00 [DBG] (QueryContext queryContext) => IEnumerable<bool> _InterceptExceptions(
    source: IEnumerable<bool> _ToSequence(() => bool GetResult(
            valueBuffers: IEnumerable<ValueBuffer> _Query(
                queryContext: queryContext, 
                shaperCommandContext: SelectExpression: 
                    SELECT CASE
                        WHEN EXISTS (
                            SELECT 1
                            FROM [Posts] AS [p])
                        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
                    END), 
            throwOnNullResult: False)), 
    contextType: RayBlog.Infrastructure.Database.MyContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)
2018-08-30 13:56:05.532 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 13:56:05.584 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 13:56:05.626 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Posts] AS [p])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-08-30 13:56:05.647 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Posts] AS [p])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-08-30 13:56:05.666 +08:00 [DBG] A data reader was disposed.
2018-08-30 13:56:05.667 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 13:56:05.670 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 13:56:05.675 +08:00 [DBG] 'MyContext' disposed.
2018-08-30 13:56:05.680 +08:00 [DBG] Hosting starting
2018-08-30 13:56:05.710 +08:00 [INF] User profile is available. Using 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-08-30 13:56:05.716 +08:00 [DBG] Reading data from file 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys\key-73484aa6-e8f7-4802-a9b5-38bb7db19515.xml'.
2018-08-30 13:56:05.730 +08:00 [DBG] Reading data from file 'C:\Users\10358\AppData\Local\ASP.NET\DataProtection-Keys\key-c851040d-9ce1-4a71-9adc-d84f3795dc9c.xml'.
2018-08-30 13:56:05.737 +08:00 [DBG] Found key "73484aa6-e8f7-4802-a9b5-38bb7db19515".
2018-08-30 13:56:05.743 +08:00 [DBG] Found key "c851040d-9ce1-4a71-9adc-d84f3795dc9c".
2018-08-30 13:56:05.759 +08:00 [DBG] Considering key "73484aa6-e8f7-4802-a9b5-38bb7db19515" with expiration date "2018-09-28T07:01:33.1620695+00:00" as default key.
2018-08-30 13:56:05.777 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-08-30 13:56:05.780 +08:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-08-30 13:56:05.782 +08:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-08-30 13:56:05.785 +08:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-08-30 13:56:05.793 +08:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-08-30 13:56:05.798 +08:00 [DBG] Using key "73484aa6-e8f7-4802-a9b5-38bb7db19515" as the default key.
2018-08-30 13:56:05.799 +08:00 [DBG] Key ring with default key "73484aa6-e8f7-4802-a9b5-38bb7db19515" was loaded during application startup.
2018-08-30 13:56:05.815 +08:00 [DBG] Compatibility switch AllowInputFormatterExceptionMessages in type MvcJsonOptions is using default value false
2018-08-30 13:56:05.831 +08:00 [DBG] Compatibility switch AllowCombiningAuthorizeFilters in type MvcOptions is using default value false
2018-08-30 13:56:05.832 +08:00 [DBG] Compatibility switch AllowBindingHeaderValuesToNonStringModelTypes in type MvcOptions is using default value false
2018-08-30 13:56:05.835 +08:00 [DBG] Compatibility switch AllowValidatingTopLevelNodes in type MvcOptions is using default value false
2018-08-30 13:56:05.841 +08:00 [DBG] Compatibility switch InputFormatterExceptionPolicy in type MvcOptions is using default value "AllExceptions"
2018-08-30 13:56:05.844 +08:00 [DBG] Compatibility switch SuppressBindingUndefinedValueToEnumType in type MvcOptions is using default value false
2018-08-30 13:56:05.862 +08:00 [DBG] Compatibility switch AllowAreas in type RazorPagesOptions is using default value false
2018-08-30 13:56:05.863 +08:00 [DBG] Compatibility switch AllowMappingHeadRequestsToGetHandler in type RazorPagesOptions is using default value false
2018-08-30 13:56:05.892 +08:00 [DBG] Compatibility switch SuppressTempDataAttributePrefix in type MvcViewOptions is using default value false
2018-08-30 13:56:05.918 +08:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2018-08-30 13:56:05.975 +08:00 [DBG] Failed to locate the development https certificate at 'null'.
2018-08-30 13:56:06.025 +08:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D30E946E0AD126EEA5F9A35F1B7DB97F0FE3D2EA)
2018-08-30 13:56:06.062 +08:00 [DBG] Hosting started
2018-08-30 13:56:06.063 +08:00 [DBG] Loaded hosting startup assembly RayBlog.APi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
2018-08-30 13:57:42.045 +08:00 [DBG] Connection id "0HLGE7LVTIUSA" started.
2018-08-30 13:57:42.215 +08:00 [DBG] Connection id "0HLGE7LVTIUSA" received FIN.
2018-08-30 13:57:42.283 +08:00 [DBG] Connection id "0HLGE7LVTIUSA" disconnecting.
2018-08-30 13:57:42.530 +08:00 [DBG] Connection id "0HLGE7LVTIUSA" sending FIN.
2018-08-30 13:57:42.542 +08:00 [DBG] Connection id "0HLGE7LVTIUSA" stopped.
2018-08-30 13:57:52.404 +08:00 [DBG] Connection id "0HLGE7LVTIUSB" started.
2018-08-30 13:57:52.413 +08:00 [DBG] Connection id "0HLGE7LVTIUSB" received FIN.
2018-08-30 13:57:52.420 +08:00 [DBG] Connection id "0HLGE7LVTIUSB" disconnecting.
2018-08-30 13:57:52.427 +08:00 [DBG] Connection id "0HLGE7LVTIUSB" sending FIN.
2018-08-30 13:57:52.430 +08:00 [DBG] Connection id "0HLGE7LVTIUSB" stopped.
2018-08-30 13:58:46.971 +08:00 [DBG] Connection id "0HLGE7LVTIUSC" started.
2018-08-30 13:58:46.981 +08:00 [DBG] Connection id "0HLGE7LVTIUSC" received FIN.
2018-08-30 13:58:46.984 +08:00 [DBG] Connection id "0HLGE7LVTIUSC" disconnecting.
2018-08-30 13:58:46.991 +08:00 [DBG] Connection id "0HLGE7LVTIUSC" sending FIN.
2018-08-30 13:58:47.000 +08:00 [DBG] Connection id "0HLGE7LVTIUSC" stopped.
2018-08-30 14:00:12.785 +08:00 [DBG] Connection id "0HLGE7LVTIUSD" started.
2018-08-30 14:00:12.793 +08:00 [DBG] Connection id "0HLGE7LVTIUSD" received FIN.
2018-08-30 14:00:12.795 +08:00 [DBG] Connection id "0HLGE7LVTIUSD" disconnecting.
2018-08-30 14:00:12.847 +08:00 [DBG] Connection id "0HLGE7LVTIUSD" sending FIN.
2018-08-30 14:00:12.849 +08:00 [DBG] Connection id "0HLGE7LVTIUSD" stopped.
2018-08-30 14:00:32.961 +08:00 [DBG] Connection id "0HLGE7LVTIUSE" started.
2018-08-30 14:00:32.973 +08:00 [DBG] Connection id "0HLGE7LVTIUSE" received FIN.
2018-08-30 14:00:32.977 +08:00 [DBG] Connection id "0HLGE7LVTIUSE" disconnecting.
2018-08-30 14:00:32.987 +08:00 [DBG] Connection id "0HLGE7LVTIUSE" sending FIN.
2018-08-30 14:00:32.989 +08:00 [DBG] Connection id "0HLGE7LVTIUSE" stopped.
2018-08-30 14:00:39.266 +08:00 [DBG] Connection id "0HLGE7LVTIUSF" started.
2018-08-30 14:00:39.278 +08:00 [DBG] Connection id "0HLGE7LVTIUSF" received FIN.
2018-08-30 14:00:39.283 +08:00 [DBG] Connection id "0HLGE7LVTIUSF" disconnecting.
2018-08-30 14:00:39.291 +08:00 [DBG] Connection id "0HLGE7LVTIUSF" sending FIN.
2018-08-30 14:00:39.293 +08:00 [DBG] Connection id "0HLGE7LVTIUSF" stopped.
2018-08-30 14:01:04.237 +08:00 [DBG] Connection id "0HLGE7LVTIUSG" started.
2018-08-30 14:01:04.252 +08:00 [DBG] Connection id "0HLGE7LVTIUSG" received FIN.
2018-08-30 14:01:04.254 +08:00 [DBG] Connection id "0HLGE7LVTIUSG" disconnecting.
2018-08-30 14:01:04.264 +08:00 [DBG] Connection id "0HLGE7LVTIUSG" sending FIN.
2018-08-30 14:01:04.267 +08:00 [DBG] Connection id "0HLGE7LVTIUSG" stopped.
2018-08-30 14:34:03.325 +08:00 [DBG] Connection id "0HLGE7LVTIUSH" started.
2018-08-30 14:34:03.904 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:6001/api/posts?orderBy=id%20desc&pageSize=10&pageIndex=0  
2018-08-30 14:34:03.919 +08:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2018-08-30 14:34:03.926 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2018-08-30 14:34:03.927 +08:00 [INF] Policy execution successful.
2018-08-30 14:34:03.985 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2018-08-30 14:34:04.470 +08:00 [DBG] Request successfully matched the route with name 'GetPosts' and template 'api/posts'.
2018-08-30 14:34:04.531 +08:00 [DBG] Action 'RayBlog.Api.Controllers.PostController.Get (RayBlog.APi)' with id '3c9870a4-1bc6-42f2-bfbf-2581b9e9cbe6' did not match the constraint 'RayBlog.APi.Helpers.RequestHeaderMatchingMediaTypeAttribute'
2018-08-30 14:34:04.562 +08:00 [DBG] Action 'RayBlog.Api.Controllers.PostController.Post (RayBlog.APi)' with id 'd19ec104-92bf-4c42-8242-734a9d41aa06' did not match the constraint 'RayBlog.APi.Helpers.RequestHeaderMatchingMediaTypeAttribute'
2018-08-30 14:34:04.623 +08:00 [INF] Route matched with {action = "GetHateoas", controller = "Post"}. Executing action RayBlog.Api.Controllers.PostController.GetHateoas (RayBlog.APi)
2018-08-30 14:34:04.657 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["Microsoft.AspNetCore.Mvc.Cors.CorsAuthorizationFilter (Order: -2147483548)","Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"]
2018-08-30 14:34:04.903 +08:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
2018-08-30 14:34:04.910 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter"]
2018-08-30 14:34:04.922 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2018-08-30 14:34:04.925 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
2018-08-30 14:34:04.938 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2018-08-30 14:34:04.953 +08:00 [INF] Policy execution successful.
2018-08-30 14:34:05.021 +08:00 [DBG] Attempting to bind parameter 'postParameters' of type 'RayBlog.Core.Entities.PostParameters' ...
2018-08-30 14:34:05.155 +08:00 [DBG] Attempting to bind model of type 'RayBlog.Core.Entities.PostParameters' using the name '' in request data ...
2018-08-30 14:34:05.175 +08:00 [DBG] Could not find a value in the request with name 'Title' for binding property 'RayBlog.Core.Entities.PostParameters.Title' of type 'System.String'.
2018-08-30 14:34:05.188 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.Title' of type 'System.String'.
2018-08-30 14:34:05.218 +08:00 [DBG] Attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageIndex' of type 'System.Int32' using the name 'PageIndex' in request data ...
2018-08-30 14:34:05.233 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageIndex' of type 'System.Int32'.
2018-08-30 14:34:05.239 +08:00 [DBG] Attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2018-08-30 14:34:05.242 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageSize' of type 'System.Int32'.
2018-08-30 14:34:05.247 +08:00 [DBG] Attempting to bind property 'RayBlog.Core.Entities.PostParameters.OrderBy' of type 'System.String' using the name 'OrderBy' in request data ...
2018-08-30 14:34:05.256 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.OrderBy' of type 'System.String'.
2018-08-30 14:34:05.259 +08:00 [DBG] Could not find a value in the request with name 'Fields' for binding property 'RayBlog.Core.Entities.PostParameters.Fields' of type 'System.String'.
2018-08-30 14:34:05.268 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.Fields' of type 'System.String'.
2018-08-30 14:34:05.269 +08:00 [DBG] Done attempting to bind model of type 'RayBlog.Core.Entities.PostParameters' using the name ''.
2018-08-30 14:34:05.273 +08:00 [DBG] Done attempting to bind parameter 'postParameters' of type 'RayBlog.Core.Entities.PostParameters'.
2018-08-30 14:34:05.343 +08:00 [INF] Executing action method RayBlog.Api.Controllers.PostController.GetHateoas (RayBlog.APi) with arguments (["RayBlog.Core.Entities.PostParameters"]) - Validation state: "Valid"
2018-08-30 14:34:05.452 +08:00 [INF] Entity Framework Core 2.1.2-rtm-30932 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-08-30 14:34:05.709 +08:00 [DBG] Compiling query model: 
'(from Post <generated>_2 in DbSet<Post>
order by [<generated>_2].Id desc
select [<generated>_2]).Count()'
2018-08-30 14:34:05.809 +08:00 [DBG] Optimized query model: 
'(from Post <generated>_2 in DbSet<Post>
select [<generated>_2]).Count()'
2018-08-30 14:34:05.843 +08:00 [DBG] (QueryContext queryContext) => IAsyncEnumerable<int> _InterceptExceptions(
    source: IAsyncEnumerable<int> _ToSequence(() => Task<int> GetResult(
            valueBuffers: IAsyncEnumerable<ValueBuffer> _Query(
                queryContext: queryContext, 
                shaperCommandContext: SelectExpression: 
                    SELECT COUNT(*)
                    FROM [Posts] AS [p]), 
            throwOnNullResult: False, 
            cancellationToken: queryContext.CancellationToken)), 
    contextType: RayBlog.Infrastructure.Database.MyContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)
2018-08-30 14:34:05.924 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:06.118 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:06.128 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2018-08-30 14:34:06.213 +08:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2018-08-30 14:34:06.238 +08:00 [DBG] A data reader was disposed.
2018-08-30 14:34:06.239 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:06.240 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:06.266 +08:00 [DBG] Compiling query model: 
'(from Post <generated>_3 in DbSet<Post>
order by [<generated>_3].Id desc
select [<generated>_3])
.Skip(__p_0)
.Take(__p_1)'
2018-08-30 14:34:06.286 +08:00 [DBG] Optimized query model: 
'(from Post <generated>_3 in DbSet<Post>
order by [<generated>_3].Id desc
select [<generated>_3])
.Skip(__p_0)
.Take(__p_1)'
2018-08-30 14:34:06.311 +08:00 [DBG] (QueryContext queryContext) => IAsyncEnumerable<Post> _InterceptExceptions(
    source: IAsyncEnumerable<Post> _TrackEntities(
        results: IAsyncEnumerable<Post> _ShapedQuery(
            queryContext: queryContext, 
            shaperCommandContext: SelectExpression: 
                SELECT [p].[Id], [p].[Author], [p].[Body], [p].[LastModified], [p].[Remark], [p].[Title]
                FROM [Posts] AS [p]
                ORDER BY [p].[Id] DESC
                OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
            shaper: UnbufferedEntityShaper<Post>), 
        queryContext: queryContext, 
        entityTrackingInfos: { itemType: Post }, 
        entityAccessors: List<Func<Post, object>> 
        { 
            Func<Post, Post>, 
        }
    ), 
    contextType: RayBlog.Infrastructure.Database.MyContext, 
    logger: DiagnosticsLogger<Query>, 
    queryContext: queryContext)
2018-08-30 14:34:06.341 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:06.486 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:06.494 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Author], [p].[Body], [p].[LastModified], [p].[Remark], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[Id] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2018-08-30 14:34:06.552 +08:00 [INF] Executed DbCommand (59ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Author], [p].[Body], [p].[LastModified], [p].[Remark], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[Id] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2018-08-30 14:34:06.630 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:06.662 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:06.671 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:06.673 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:06.675 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:06.677 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:06.684 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:06.687 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:06.689 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:06.693 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:06.698 +08:00 [DBG] A data reader was disposed.
2018-08-30 14:34:06.700 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:06.702 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:06.966 +08:00 [INF] Executed action method RayBlog.Api.Controllers.PostController.GetHateoas (RayBlog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1554.3556ms.
2018-08-30 14:34:07.089 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2018-08-30 14:34:07.102 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/vnd.whx.hateoas+json"]'.
2018-08-30 14:34:07.105 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter' and content type 'application/vnd.whx.hateoas+json' to write the response.
2018-08-30 14:34:07.107 +08:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Collections.Generic.IEnumerable`1[[System.Collections.Generic.IDictionary`2[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[RayBlog.Infrastructure.Resources.LinkResource, RayBlog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2018-08-30 14:34:07.189 +08:00 [INF] Executed action RayBlog.Api.Controllers.PostController.GetHateoas (RayBlog.APi) in 2251.3229ms
2018-08-30 14:34:07.221 +08:00 [DBG] Connection id "0HLGE7LVTIUSI" started.
2018-08-30 14:34:07.345 +08:00 [DBG] Connection id "0HLGE7LVTIUSH" completed keep alive response.
2018-08-30 14:34:07.460 +08:00 [DBG] 'MyContext' disposed.
2018-08-30 14:34:07.462 +08:00 [INF] Request finished in 3559.2514ms 200 application/vnd.whx.hateoas+json; charset=utf-8
2018-08-30 14:34:07.468 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:6001/api/posts?orderBy=id%20desc&pageSize=10&pageIndex=0  
2018-08-30 14:34:07.469 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2018-08-30 14:34:07.471 +08:00 [INF] Policy execution successful.
2018-08-30 14:34:07.472 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2018-08-30 14:34:07.474 +08:00 [DBG] Request successfully matched the route with name 'GetPosts' and template 'api/posts'.
2018-08-30 14:34:07.477 +08:00 [DBG] Action 'RayBlog.Api.Controllers.PostController.Get (RayBlog.APi)' with id '3c9870a4-1bc6-42f2-bfbf-2581b9e9cbe6' did not match the constraint 'RayBlog.APi.Helpers.RequestHeaderMatchingMediaTypeAttribute'
2018-08-30 14:34:07.480 +08:00 [DBG] Action 'RayBlog.Api.Controllers.PostController.Post (RayBlog.APi)' with id 'd19ec104-92bf-4c42-8242-734a9d41aa06' did not match the constraint 'RayBlog.APi.Helpers.RequestHeaderMatchingMediaTypeAttribute'
2018-08-30 14:34:07.487 +08:00 [INF] Route matched with {action = "GetHateoas", controller = "Post"}. Executing action RayBlog.Api.Controllers.PostController.GetHateoas (RayBlog.APi)
2018-08-30 14:34:07.489 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["Microsoft.AspNetCore.Mvc.Cors.CorsAuthorizationFilter (Order: -2147483548)","Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"]
2018-08-30 14:34:07.491 +08:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
2018-08-30 14:34:07.493 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter"]
2018-08-30 14:34:07.498 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2018-08-30 14:34:07.500 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
2018-08-30 14:34:07.502 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2018-08-30 14:34:07.504 +08:00 [INF] Policy execution successful.
2018-08-30 14:34:07.506 +08:00 [DBG] Attempting to bind parameter 'postParameters' of type 'RayBlog.Core.Entities.PostParameters' ...
2018-08-30 14:34:07.510 +08:00 [DBG] Attempting to bind model of type 'RayBlog.Core.Entities.PostParameters' using the name '' in request data ...
2018-08-30 14:34:07.513 +08:00 [DBG] Could not find a value in the request with name 'Title' for binding property 'RayBlog.Core.Entities.PostParameters.Title' of type 'System.String'.
2018-08-30 14:34:07.518 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.Title' of type 'System.String'.
2018-08-30 14:34:07.521 +08:00 [DBG] Attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageIndex' of type 'System.Int32' using the name 'PageIndex' in request data ...
2018-08-30 14:34:07.524 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageIndex' of type 'System.Int32'.
2018-08-30 14:34:07.526 +08:00 [DBG] Attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2018-08-30 14:34:07.533 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageSize' of type 'System.Int32'.
2018-08-30 14:34:07.535 +08:00 [DBG] Attempting to bind property 'RayBlog.Core.Entities.PostParameters.OrderBy' of type 'System.String' using the name 'OrderBy' in request data ...
2018-08-30 14:34:07.539 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.OrderBy' of type 'System.String'.
2018-08-30 14:34:07.542 +08:00 [DBG] Could not find a value in the request with name 'Fields' for binding property 'RayBlog.Core.Entities.PostParameters.Fields' of type 'System.String'.
2018-08-30 14:34:07.545 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.Fields' of type 'System.String'.
2018-08-30 14:34:07.546 +08:00 [DBG] Done attempting to bind model of type 'RayBlog.Core.Entities.PostParameters' using the name ''.
2018-08-30 14:34:07.550 +08:00 [DBG] Done attempting to bind parameter 'postParameters' of type 'RayBlog.Core.Entities.PostParameters'.
2018-08-30 14:34:07.554 +08:00 [INF] Executing action method RayBlog.Api.Controllers.PostController.GetHateoas (RayBlog.APi) with arguments (["RayBlog.Core.Entities.PostParameters"]) - Validation state: "Valid"
2018-08-30 14:34:07.557 +08:00 [INF] Entity Framework Core 2.1.2-rtm-30932 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-08-30 14:34:07.563 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:07.565 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:07.582 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2018-08-30 14:34:07.598 +08:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2018-08-30 14:34:07.610 +08:00 [DBG] A data reader was disposed.
2018-08-30 14:34:07.612 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:07.619 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:07.622 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:07.623 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:07.625 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Author], [p].[Body], [p].[LastModified], [p].[Remark], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[Id] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2018-08-30 14:34:07.635 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Author], [p].[Body], [p].[LastModified], [p].[Remark], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[Id] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2018-08-30 14:34:07.641 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:07.643 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:07.645 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:07.652 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:07.654 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:07.656 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:07.659 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:07.662 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:07.666 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:07.671 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:07.673 +08:00 [DBG] A data reader was disposed.
2018-08-30 14:34:07.674 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:07.675 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:07.680 +08:00 [INF] Executed action method RayBlog.Api.Controllers.PostController.GetHateoas (RayBlog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 123.6521ms.
2018-08-30 14:34:07.686 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2018-08-30 14:34:07.695 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/vnd.whx.hateoas+json"]'.
2018-08-30 14:34:07.708 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter' and content type 'application/vnd.whx.hateoas+json' to write the response.
2018-08-30 14:34:07.711 +08:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Collections.Generic.IEnumerable`1[[System.Collections.Generic.IDictionary`2[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[RayBlog.Infrastructure.Resources.LinkResource, RayBlog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2018-08-30 14:34:07.723 +08:00 [INF] Executed action RayBlog.Api.Controllers.PostController.GetHateoas (RayBlog.APi) in 221.085ms
2018-08-30 14:34:07.728 +08:00 [DBG] Connection id "0HLGE7LVTIUSH" completed keep alive response.
2018-08-30 14:34:07.752 +08:00 [DBG] 'MyContext' disposed.
2018-08-30 14:34:07.753 +08:00 [INF] Request finished in 285.7329ms 200 application/vnd.whx.hateoas+json; charset=utf-8
2018-08-30 14:34:10.175 +08:00 [DBG] Connection id "0HLGE7LVTIUSI" received FIN.
2018-08-30 14:34:10.175 +08:00 [DBG] Connection id "0HLGE7LVTIUSH" received FIN.
2018-08-30 14:34:10.181 +08:00 [DBG] Connection id "0HLGE7LVTIUSH" disconnecting.
2018-08-30 14:34:10.179 +08:00 [DBG] Connection id "0HLGE7LVTIUSI" disconnecting.
2018-08-30 14:34:10.186 +08:00 [DBG] Connection id "0HLGE7LVTIUSH" sending FIN.
2018-08-30 14:34:10.187 +08:00 [DBG] Connection id "0HLGE7LVTIUSI" sending FIN.
2018-08-30 14:34:10.189 +08:00 [DBG] Connection id "0HLGE7LVTIUSH" stopped.
2018-08-30 14:34:10.191 +08:00 [DBG] Connection id "0HLGE7LVTIUSI" stopped.
2018-08-30 14:34:31.810 +08:00 [DBG] Connection id "0HLGE7LVTIUSJ" started.
2018-08-30 14:34:31.826 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:6001/api/posts?orderBy=id%20desc&pageSize=10&pageIndex=0  
2018-08-30 14:34:31.837 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2018-08-30 14:34:31.843 +08:00 [INF] Policy execution successful.
2018-08-30 14:34:31.861 +08:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2018-08-30 14:34:31.865 +08:00 [DBG] Request successfully matched the route with name 'GetPosts' and template 'api/posts'.
2018-08-30 14:34:31.871 +08:00 [DBG] Action 'RayBlog.Api.Controllers.PostController.Get (RayBlog.APi)' with id '3c9870a4-1bc6-42f2-bfbf-2581b9e9cbe6' did not match the constraint 'RayBlog.APi.Helpers.RequestHeaderMatchingMediaTypeAttribute'
2018-08-30 14:34:31.876 +08:00 [DBG] Action 'RayBlog.Api.Controllers.PostController.Post (RayBlog.APi)' with id 'd19ec104-92bf-4c42-8242-734a9d41aa06' did not match the constraint 'RayBlog.APi.Helpers.RequestHeaderMatchingMediaTypeAttribute'
2018-08-30 14:34:31.879 +08:00 [INF] Route matched with {action = "GetHateoas", controller = "Post"}. Executing action RayBlog.Api.Controllers.PostController.GetHateoas (RayBlog.APi)
2018-08-30 14:34:31.881 +08:00 [DBG] Execution plan of authorization filters (in the following order): ["Microsoft.AspNetCore.Mvc.Cors.CorsAuthorizationFilter (Order: -2147483548)","Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"]
2018-08-30 14:34:31.891 +08:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
2018-08-30 14:34:31.893 +08:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter"]
2018-08-30 14:34:31.903 +08:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2018-08-30 14:34:31.917 +08:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
2018-08-30 14:34:31.940 +08:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2018-08-30 14:34:31.945 +08:00 [INF] Policy execution successful.
2018-08-30 14:34:31.953 +08:00 [DBG] Attempting to bind parameter 'postParameters' of type 'RayBlog.Core.Entities.PostParameters' ...
2018-08-30 14:34:31.954 +08:00 [DBG] Attempting to bind model of type 'RayBlog.Core.Entities.PostParameters' using the name '' in request data ...
2018-08-30 14:34:31.963 +08:00 [DBG] Could not find a value in the request with name 'Title' for binding property 'RayBlog.Core.Entities.PostParameters.Title' of type 'System.String'.
2018-08-30 14:34:31.966 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.Title' of type 'System.String'.
2018-08-30 14:34:31.971 +08:00 [DBG] Attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageIndex' of type 'System.Int32' using the name 'PageIndex' in request data ...
2018-08-30 14:34:31.980 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageIndex' of type 'System.Int32'.
2018-08-30 14:34:31.982 +08:00 [DBG] Attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2018-08-30 14:34:31.986 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.PageSize' of type 'System.Int32'.
2018-08-30 14:34:31.990 +08:00 [DBG] Attempting to bind property 'RayBlog.Core.Entities.PostParameters.OrderBy' of type 'System.String' using the name 'OrderBy' in request data ...
2018-08-30 14:34:31.997 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.OrderBy' of type 'System.String'.
2018-08-30 14:34:31.999 +08:00 [DBG] Could not find a value in the request with name 'Fields' for binding property 'RayBlog.Core.Entities.PostParameters.Fields' of type 'System.String'.
2018-08-30 14:34:32.003 +08:00 [DBG] Done attempting to bind property 'RayBlog.Core.Entities.PostParameters.Fields' of type 'System.String'.
2018-08-30 14:34:32.010 +08:00 [DBG] Done attempting to bind model of type 'RayBlog.Core.Entities.PostParameters' using the name ''.
2018-08-30 14:34:32.012 +08:00 [DBG] Done attempting to bind parameter 'postParameters' of type 'RayBlog.Core.Entities.PostParameters'.
2018-08-30 14:34:32.013 +08:00 [INF] Executing action method RayBlog.Api.Controllers.PostController.GetHateoas (RayBlog.APi) with arguments (["RayBlog.Core.Entities.PostParameters"]) - Validation state: "Valid"
2018-08-30 14:34:32.016 +08:00 [INF] Entity Framework Core 2.1.2-rtm-30932 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-08-30 14:34:32.021 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:32.028 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:32.030 +08:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2018-08-30 14:34:32.034 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2018-08-30 14:34:32.044 +08:00 [DBG] A data reader was disposed.
2018-08-30 14:34:32.046 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:32.050 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:32.054 +08:00 [DBG] Opening connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:32.055 +08:00 [DBG] Opened connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:32.062 +08:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Author], [p].[Body], [p].[LastModified], [p].[Remark], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[Id] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2018-08-30 14:34:32.070 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Author], [p].[Body], [p].[LastModified], [p].[Remark], [p].[Title]
FROM [Posts] AS [p]
ORDER BY [p].[Id] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2018-08-30 14:34:32.078 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:32.081 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:32.083 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:32.086 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:32.088 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:32.093 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:32.096 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:32.098 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:32.100 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:32.112 +08:00 [DBG] Context 'Post' started tracking 'MyContext' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2018-08-30 14:34:32.117 +08:00 [DBG] A data reader was disposed.
2018-08-30 14:34:32.121 +08:00 [DBG] Closing connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:32.127 +08:00 [DBG] Closed connection to database 'RayBlog' on server 'Localhost\Dev'.
2018-08-30 14:34:32.130 +08:00 [INF] Executed action method RayBlog.Api.Controllers.PostController.GetHateoas (RayBlog.APi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 114.44460000000001ms.
2018-08-30 14:34:32.132 +08:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2018-08-30 14:34:32.368 +08:00 [DBG] Attempting to select an output formatter based on Accept header '["application/vnd.whx.hateoas+json"]'.
2018-08-30 14:34:32.371 +08:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter' and content type 'application/vnd.whx.hateoas+json' to write the response.
2018-08-30 14:34:32.382 +08:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Collections.Generic.IEnumerable`1[[System.Collections.Generic.IDictionary`2[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[RayBlog.Infrastructure.Resources.LinkResource, RayBlog.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2018-08-30 14:34:32.388 +08:00 [INF] Executed action RayBlog.Api.Controllers.PostController.GetHateoas (RayBlog.APi) in 447.5421ms
2018-08-30 14:34:32.399 +08:00 [DBG] Connection id "0HLGE7LVTIUSJ" completed keep alive response.
2018-08-30 14:34:32.433 +08:00 [DBG] 'MyContext' disposed.
2018-08-30 14:34:32.455 +08:00 [INF] Request finished in 627.8546ms 200 application/vnd.whx.hateoas+json; charset=utf-8
2018-08-30 14:34:40.178 +08:00 [DBG] Connection id "0HLGE7LVTIUSJ" received FIN.
2018-08-30 14:34:40.180 +08:00 [DBG] Connection id "0HLGE7LVTIUSJ" disconnecting.
2018-08-30 14:34:40.182 +08:00 [DBG] Connection id "0HLGE7LVTIUSJ" sending FIN.
2018-08-30 14:34:40.184 +08:00 [DBG] Connection id "0HLGE7LVTIUSJ" stopped.
